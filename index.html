<!DOCTYPE html>
<html>
<head>
	<title>Canvas Game!</title>
</head>
<body>

<script type="text/javascript">
	// Create the canvas tag with JS

	var canvas = document.createElement('canvas')
	// Create a context for JS to play with, methods properties etc
	var context = canvas.getContext('2d')
	// add the canvas tag to the DOM as s child of body
	document.body.appendChild(canvas)

	canvas.width = 512;
	canvas.height = 480;

	var backgroundImage = new Image();
	backgroundImage.src ="background.png"
	// Make a new var for hero, who is an image
	var hero = new Image()
	hero.src = "hero.png"
	var heroLocation = {
		x:100,
		y:100,
	}

	var monster = new Image()
	monster.src = "monster.png";
	var monsterLocation = {
		x:200,
		y:100,
	}
	var monstersCaught = 0


	// An array to hold all currently pressed keys 

	var keysDown = []
	addEventListener('keyup', function(event){
		delete keysDown[event.keyCode];
	});


	// we need a way to tell if the user has pushed an arrow key
	addEventListener('keydown', function(event){
		// console.log(event.key);
		// This is where we will update the hero based on whats true in keysDown
		keysDown[event.keyCode] = true
	});
	// var reset = function(){
	// 	hero.x = 100;
	// 	hero.y = 100;
	// 	monster.x = 32 + (Math.random() * (canvas.width - 64));
	// 	monster.y = 32 + (Math.random() * (canvas.height - 64))
	// };
	// Reset the game when the player catches a monster
	// var reset = function () {
	// 	hero.x = canvas.width / 2;
	// 	hero.y = canvas.height / 2;

	// 	// Throw the monster somewhere on the screen randomly
	// 	monster.x = 32 + (Math.random() * (canvas.width - 64));
	// 	monster.y = 32 + (Math.random() * (canvas.height - 64));
	// };

	var randLoc1 =  32 + Math.ceil(Math.random() * (canvas.width -64))
	var randLoc2 =  32 + Math.ceil(Math.random() * (canvas.height -64))
	function update(){
		// arrow moving right
		if(39 in keysDown){
			if(heroLocation.x <=450){
			heroLocation.x +=10;
			}
		}
		if(37 in keysDown){
			// arrow moving left 
			if(heroLocation.x >=10){
			heroLocation.x -=10;
			}
		} 
		// arrow going up 
		if(38 in keysDown){
			if(heroLocation.y >= 0){
			heroLocation.y -=10;
			}
		}
		// Arrow going down 
		if(40 in keysDown){
			if(heroLocation.y <= 420){
			heroLocation.y +=10;
			}
		}
		if(
			(heroLocation.x <= monsterLocation.x)
			&& (heroLocation.y <= monsterLocation.y + 32)
			&& (monsterLocation.x <= heroLocation.x +32)
			&& (monsterLocation.y <= heroLocation.y +32)
			){
			// console.log("you are within 32");
				++monstersCaught;

				monsterLocation.x = randLoc1;
				monsterLocation.y = randLoc2;
				console.log(monstersCaught)
				console.log(randLoc1)
				console.log(randLoc2)
		}
			
		
	}




// var speed = function(){
// 	for(var i = 70; i < 100; i +=5){

// 	}
// };
// console.log(speed);


		// Put image in canvas, starting top left 0-0 X Y axis
// KEEP THIS AT THE BOTTOM 

	function draw(){
		update()
		context.drawImage(backgroundImage, 0,0);
		context.drawImage(hero, heroLocation.x,heroLocation.y)
		context.drawImage(monster, monsterLocation.x,monsterLocation.y)
		requestAnimationFrame(draw)
	}

	draw();



</script>




</body>
</html>